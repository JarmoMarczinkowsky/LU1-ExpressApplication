<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <!-- Card -->
      <div class="card shadow-lg border-0 rounded-4">
        <div class="card-body p-5">
          <h1 class="mb-4 text-center">ðŸŽ¬ Add New Movie</h1>

          <!-- Movie Form -->
          <form action="<%= movie.film_id ? '/movies/' + 'edit/' + movie.film_id : '/movies/create' %>" method="POST">
            <!-- Title -->
            <div class="mb-3">
              <label for="title" class="form-label">Movie Title</label>
              <input type="text" id="title" name="title" class="form-control" value="<%= movie.title || '' %>"
                placeholder="Enter movie title" required />
            </div>

            <!-- Description -->
            <div class="mb-3">
              <label for="description" class="form-label">Description</label>
              <textarea id="description" name="description" class="form-control" rows="3"
                placeholder="Enter movie description"><%= movie.description || '' %></textarea>
            </div>

            <!-- Release Year -->
            <div class="mb-3">
              <label for="release_year" class="form-label">Release Year</label>
              <input type="number" id="release_year" name="release_year" class="form-control" min="1895" max="2050"
                value="<%= movie.release_year || '' %>" placeholder="e.g. 1985" required />
            </div>

            <!-- Language -->
            <div class="mb-3">
              <label for="language_id" class="form-label">Language</label>
              <select id="language_id" name="language_id" class="form-select" required>
                <option value="">-- Select Language --</option>
                <option <%=movie.language_id==1 ? 'selected' : '' %> value="1">English</option>
                <option <%=movie.language_id==2 ? 'selected' : '' %> value="2">Italian</option>
                <option <%=movie.language_id==3 ? 'selected' : '' %> value="3">Japanese</option>
                <option <%=movie.language_id==4 ? 'selected' : '' %> value="4">Mandarin</option>
                <option <%=movie.language_id==5 ? 'selected' : '' %> value="5">French</option>
                <option <%=movie.language_id==6 ? 'selected' : '' %> value="6">German</option>
                <!-- More from Sakila `language` table -->
              </select>
            </div>

            <!-- Category -->
            <div class="mb-3">
              <label for="category_id" class="form-label">Category</label>
              <select id="category_id" name="category_id" class="form-select" required>
                <option value="">-- Select Category --</option>
                <option <%=movie.category_name =='Action' ? 'selected' : '' %> value ="1">Action</option>
                <option <%=movie.category_name =='Animation' ? 'selected' : '' %> value ="2">Animation</option>
                <option <%=movie.category_name =='Children' ? 'selected' : '' %> value ="3">Children</option>
                <option <%=movie.category_name =='Classics' ? 'selected' : '' %> value ="4">Classics</option>
                <option <%=movie.category_name =='Comedy' ? 'selected' : '' %> value ="5">Comedy</option>
                <option <%=movie.category_name =='Documentary' ? 'selected' : '' %> value ="6">Documentary</option>
                <option <%=movie.category_name =='Drama' ? 'selected' : '' %> value ="7">Drama</option>
                <option <%=movie.category_name =='Family' ? 'selected' : '' %> value ="8">Family</option>
                <option <%=movie.category_name =='Foreign' ? 'selected' : '' %> value ="9">Foreign</option>
                <option <%=movie.category_name =='Games' ? 'selected' : '' %> value ="10">Games</option>
                <option <%=movie.category_name =='Horror' ? 'selected' : '' %> value ="11">Horror</option>
                <option <%=movie.category_name =='Music' ? 'selected' : '' %> value ="12">Music</option>
                <option <%=movie.category_name =='New' ? 'selected' : '' %> value ="13">New</option>
                <option <%=movie.category_name =='Sci-Fi' ? 'selected' : '' %> value ="14">Sci-Fi</option>
                <option <%=movie.category_name =='Sports' ? 'selected' : '' %> value ="15">Sports</option>
                <option <%=movie.category_name =='Travel' ? 'selected' : '' %> value ="16">Travel</option>
              </select>
            </div>

            <!-- Rental Rate -->
            <div class="mb-3">
              <label for="rental_rate" class="form-label">Rental Rate ($)</label>
              <input type="number" step="0.01" id="rental_rate" name="rental_rate" class="form-control"
                placeholder="e.g. 4.99" required value="<%= movie.rental_rate %>" />
            </div>

            <!-- replacement cost -->
            <div class="mb-3">
              <label for="replacement_cost" class="form-label">Replacement Cost ($)</label>
              <input type="number" step="0.01" id="replacement_cost" name="replacement_cost" class="form-control"
                placeholder="e.g. 19.99" required value="<%= movie.replacement_cost %>" />
            </div>

            <!-- rating PG/G/NC-17 -->
            <div class="mb-3">
              <label for="rating" class="form-label">Rating</label>
              <select id="rating" name="rating" class="form-select" required>
                <option <%= movie.rating == '' ? 'selected' : '' %> value="">-- Select Rating --</option>
                <option <%= movie.rating == 'G' ? 'selected' : '' %> value="G">G</option>
                <option <%= movie.rating == 'PG' ? 'selected' : '' %> value="PG">PG</option>
                <option <%= movie.rating == 'PG-13' ? 'selected' : '' %> value="PG-13">PG-13</option>
                <option <%= movie.rating == 'R' ? 'selected' : '' %> value="R">R</option>
                <option <%= movie.rating == 'NC-17' ? 'selected' : '' %> value="NC-17">NC-17</option>
              </select>



              <!-- Rental Duration -->
              <div class="mb-3">
                <label for="rental_duration" class="form-label">Rental Duration (days)</label>
                <input type="number" id="rental_duration" name="rental_duration" class="form-control"
                  placeholder="e.g. 7" required value="<%= movie.rental_duration %>"/>

                <!-- movie length -->
                <div class="mb-3">
                  <label for="length" class="form-label">Movie Length (minutes)</label>
                  <input type="number" id="length" name="length" class="form-control" placeholder="e.g. 120" required value="<%= movie.length %>" />
                </div>

                <!-- Special Features -->
                <div class="mb-3">
                  <label for="special_features" class="form-label">Special Features</label>
                  <select id="special_features" name="special_features" class="form-select" multiple>
                    <option <%= movie.special_features.includes('Trailers') ? 'selected' : '' %> value="Trailers">Trailers</option>
                    <option <%= movie.special_features.includes('Commentaries') ? 'selected' : '' %> value="Commentaries">Commentaries</option>
                    <option <%= movie.special_features.includes('Deleted Scenes') ? 'selected' : '' %> value="Deleted Scenes">Deleted Scenes</option>
                    <option <%= movie.special_features.includes('Behind the Scenes') ? 'selected' : '' %> value="Behind the Scenes">Behind the Scenes</option>
                  </select>
                  <div class="form-text">
                    Hold Ctrl (Windows) or âŒ˜ (Mac) to select multiple.
                  </div>
                </div>

                <!-- Submit -->
                <div class="d-grid">
                  <button type="submit" class="btn btn-primary btn-lg rounded-pill" style="margin: 10px 0;">
                    Save Movie
                  </button>
                  <!-- delete button -->

                  <% if (movie.film_id) { %>
                    <button type="button" class="btn btn-danger btn-lg rounded-pill" id="delete-movie" onclick="location.href='/movies/delete/<%= movie.film_id %>'">
                      Delete Movie
                    </button>
                  <% } %>
                </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>